# 异步拷贝文件夹下所有文件， 全部完成后输出结果 （nodejs+bluebird+es5）

## 问题定义
- 不同子目录下文件拷贝至同一文件夹下:  x/a/b/c/1.jpg -> y/a-b-c-1.jpg
- 同一文件夹下文件还原至不同子目录下:  y/a-b-c-1.jpg -> z/a/b/c/1.jpg

## 基本步骤

- 读取文件夹下所有文件
- 生成所有文件输出目录
- 生成所有文件
- 打印结果

## 实现要点

- 多线程io操作时，相同资源的竞争处理（异常，获取锁的先后, 两次异常的处理）
- 利用递归遍历文件夹
- 利用系统函数处理不同操作系统下的文件路径
- 利用map和reduce优化控制流
- 利用promise类库优化控制流
